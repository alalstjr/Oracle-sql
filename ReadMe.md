--------------------
# Oracle-sql
--------------------

- [1. SQL 이란?](#SQL-이란?)
    - [1. 과거 DBMS](#과거-DBMS)
    - [2. 참조 모델](#참조-모델)
    - [3. 단점](#단점)
        - [1. 동시성](#동시성)
        - [2. 성능](#성능)
        - [3. 보안](#보안)
    - [4. 단점 해결방안](#단점-해결방안)


# SQL 이란?

SQL(Structured Query Language)

`DBMS` 에게 `질의`하는 명령어
DBMS 란 `Database + Management System` 

## 과거 DBMS

네트워크는 연결되어 있지 않은 상태로 
각각의 Data 를 각각의 `다른 장소에서 보관`하고 있습니다.

사용자는 Person 입니다.
`Person 은 지금 A 의 권한`을 얻었습니다.

~~~
A { a, b }
B { a, c , A }
~~~

Person 가 B 에 접근하려 합니다.
하지만 `B 에 접근하려면 A 의 정보 조회가 필수` 입니다.
그러므로 `B 가 A 의 정보를 가지고` 있습니다.

하지만 문제가 하나 발생합니다. 
Person 이 B 를 조회하려 하지만 `방금 A 의 권한을 얻은 Person 의 A 의 정보`는 
`B 에 존재하지 않아 접근할 수 없습니다.`

만약 Person 이 접근하려면 `A 와 B 의 동기화 작업이 완료`되어야만 합니다.

좀더 효과적으로 데이터의 결함을 없앨 수 있는 방법을 찾자면 Data 를 각자 
중복해서 가지고 있지 않도록 `한 곳으로 모아서 관리`하는 것입니다.

한 곳에서 관리하므로 B 가 가지고있는 A 의 정보는 중복되므로 삭제합니다.
그리고 A and B 둘다 가지고있는 a 정보도 중복으로 가지고 있으므로 한곳의 a 를 삭제 합니다.

~~~
A { a, b }                  
B { a, c , A }      =>      C { a, b, c }
~~~

## 참조 모델

이전에는 A 의 정보를 읽어서 Data 를 확인하면 되었지만 지금은 중복의 없애므로서 
테이블의 Data 가 여러 개로 나누어 져 있고 정보를 조회하려면은 나눠진 정보를 조합(참조)해야만 합니다.

- 참조하는 방법
    - 계층형 Hierarchical DBMS
    - 네트워크 Network DBMS
    - 객체형 Object-Oriented DBMS
    - `관계형 Relational DBMS`

장점이 존재하면 단점도 존재합니다.

## 단점

### 동시성

(Person Min) 와 (Person Jun) 가 동시에 B 에 접근하는 경우가 발생하는 경우 `병목현상이 발생`합니다.

### 성능

이전에는 각각의 장소에서 Data 를 관리하여 `이용자의 접근이 분산`되어 성능상 문제가 되지않았지만
한곳으로 모아진 Data 에서는 이용자의 접근이 `한곳으로 모였으므로 이용자가 기다리게 되는 문제`가 발생합니다.

### 보안

네트워크 상태를 기반으로 관리하다 보니까 여러 가지 보안 문제가 발생할 수도 있습니다.

## 단점 해결방안

Data 를 직접 관리하는 것이 아니라 (동시성, 성능, 보안) 을 책임질 수 있는 `관리자`를 하나 만듭니다.

동시접근이 발생하는 경우 관리자가 순서대로 진행할 수 있도록 관리하고
외부인이 접근하는경우 관리자가 인증을 요구하여 보안성을 높입니다.

결국 사용자는 관리자에게 부탁만 하면 됩니다.
그런 부탁(질의)이 `Query Language` 입니다.

결과값이 단순한 값이 아닌 고차원적인 구조화된 정보를 원합니다.
구조화된 정보가 `Structured` 입니다.

- 관리자에게 질의하는 값으로는 사용자가 어떤 Data 를 사용할 것인지 전달합니다.
    - DDL : create/alter/drop

- 서로간의 Data 의 구조를 정의하고 다음에는 Data 를 입력해달라고 합니다.
    - DML : select/insert/update/delete

- 관리자가 접근하는 사용자가 질의를 할 수 있는지 허가할 것인가 를 결정하는 제어명령어가 있습니다.
    - DCL : grant/revoke